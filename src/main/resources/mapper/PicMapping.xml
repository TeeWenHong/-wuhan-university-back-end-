<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qingshuge.dao.PicMapper">


    <select id="searchAllPic" resultType="ShowAllInfo">
        SELECT noveluser.*, pic.*
        FROM pic
        INNER JOIN noveluser ON noveluser.id = pic.user_id
        WHERE pic.pic_id  AND pic.buy_flag = 1;
    </select>

    <select id="searchIdPic" resultType="ShowAllInfo">
        SELECT noveluser.*, pic.*
        FROM pic
        INNER JOIN noveluser ON noveluser.id = pic.user_id
        WHERE pic.user_id = #{user_id} AND pic.buy_flag = 0;
    </select>

    <select id="searchMyAllPic" resultType="ShowAllInfo">
        SELECT noveluser.*, pic.*
        FROM pic
        INNER JOIN noveluser ON noveluser.id = pic.user_id
        WHERE pic.user_id =#{user_id}  AND pic.buy_flag = 1;
    </select>

    <delete id="deletePic">
        DELETE FROM pic WHERE pic_id = '${pic_id}';
    </delete>

</mapper>